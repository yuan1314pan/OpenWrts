##################################################
# 核心系统
##################################################
CONFIG_MODULES=y

# Cgroup 必备（Docker）
CONFIG_KERNEL_CGROUPS=y
CONFIG_KERNEL_CGROUP_DEVICE=y
CONFIG_KERNEL_CGROUP_FREEZER=y
CONFIG_KERNEL_CGROUP_SCHED=y
CONFIG_KERNEL_CGROUP_PIDS=y
CONFIG_KERNEL_CPUSETS=y
CONFIG_KERNEL_NAMESPACES=y
CONFIG_CGROUPFS_MOUNT_KERNEL_CGROUPS=y
CONFIG_DOCKER_CGROUP_OPTIONS=y

CONFIG_IPV6=y
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_coreutils-nohup=y
CONFIG_PACKAGE_opkg=y

##################################################
# LuCI 最小界面
##################################################
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-lib-ip=y
CONFIG_PACKAGE_luci-lib-jsonc=y
CONFIG_PACKAGE_luci-theme-argon=y

CONFIG_LUCI_LANG_en=y
CONFIG_LUCI_LANG_zh-cn=y

##################################################
# 网络与 IPv6
##################################################
CONFIG_PACKAGE_luci-proto-ipv6=y
CONFIG_PACKAGE_dhcp6c=y

##################################################
# Docker / 容器
##################################################
CONFIG_PACKAGE_docker=y
CONFIG_PACKAGE_dockerd=y
CONFIG_PACKAGE_containerd=y
CONFIG_PACKAGE_luci-lib-docker=y
CONFIG_PACKAGE_luci-app-dockerman=y

##################################################
# Passwall 完整依赖（最少集）
##################################################
CONFIG_PACKAGE_luci-app-passwall=y

# 关键依赖：必须，否则编译失败
CONFIG_PACKAGE_haproxy=y
CONFIG_PACKAGE_haproxy-pcre=y
CONFIG_PACKAGE_libpcre=y
CONFIG_PACKAGE_libpcre2=y

# Passwall 必须的代理核心（至少开一个）
CONFIG_PACKAGE_xray-core=y
# CONFIG_PACKAGE_sing-box is not set （如果你想开可以加）

# Passwall 的 DNS / 辅助
CONFIG_PACKAGE_chinadns-ng=y
CONFIG_PACKAGE_dns2socks=y
CONFIG_PACKAGE_v2ray-geodata=y

##################################################
# SmartDNS / Socat
##################################################
CONFIG_PACKAGE_luci-app-smartdns=y
CONFIG_PACKAGE_luci-app-socat=y

##################################################
# 基础工具（文件系统 / 压缩 / 存储）
##################################################
CONFIG_PACKAGE_tar=y
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_fdisk=y
CONFIG_PACKAGE_lsblk=y
CONFIG_PACKAGE_mount-utils=y
CONFIG_PACKAGE_parted=y

##################################################
# 优化
##################################################
CONFIG_TARGET_ROOTFS_PARTSIZE=1024
CONFIG_ZSTD_OPTIMIZE_O3=y
